<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whisper Transcriber</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Whisper Transcriber</h1>
            <button id="theme-toggle" class="icon-btn" title="Toggle theme">
                <span class="light-icon">&#9788;</span>
                <span class="dark-icon">&#9790;</span>
            </button>
        </header>

        <main>
            <section class="upload-section">
                <div id="drop-zone" class="drop-zone">
                    <div class="drop-zone-content">
                        <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        <p>Drag & drop audio files here</p>
                        <p class="hint">or click to browse</p>
                        <p class="formats">MP3, WAV, M4A, FLAC, OGG, AAC</p>
                    </div>
                    <input type="file" id="file-input" multiple accept=".mp3,.wav,.m4a,.flac,.ogg,.wma,.aac,.mp4,.webm">
                </div>

                <div class="options">
                    <div class="option-group">
                        <label for="model-select">Model:</label>
                        <select id="model-select">
                            <option value="tiny">tiny (fastest)</option>
                            <option value="base">base</option>
                            <option value="small">small</option>
                            <option value="medium">medium</option>
                            <option value="large" selected>large (best)</option>
                            <option value="large-v2">large-v2</option>
                            <option value="large-v3">large-v3</option>
                        </select>
                    </div>

                    <div class="option-group">
                        <label>Output:</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="format" value="txt" checked> TXT
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="format" value="srt" checked> SRT
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="format" value="vtt"> VTT
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="format" value="json"> JSON
                            </label>
                        </div>
                    </div>

                    <div class="option-group">
                        <label for="language-select">Language:</label>
                        <select id="language-select">
                            <option value="">Auto-detect</option>
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="nl">Dutch</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="zh">Chinese</option>
                        </select>
                    </div>
                </div>

                <div class="selected-files" id="selected-files"></div>

                <button id="transcribe-btn" class="primary-btn" disabled>
                    Start Transcription
                </button>
            </section>

            <section class="queue-section">
                <h2>Queue</h2>
                <div id="job-queue" class="job-queue">
                    <p class="empty-state">No transcription jobs yet</p>
                </div>
            </section>

            <section class="watcher-section">
                <div class="watcher-header">
                    <h2>Folder Watch</h2>
                    <div class="watcher-controls">
                        <span id="watcher-status" class="status-badge off">OFF</span>
                        <button id="watcher-toggle" class="secondary-btn">Enable</button>
                    </div>
                </div>
                <p class="watcher-path">Path: <code id="watch-path">./watch</code></p>
            </section>
        </main>

        <footer>
            <p>Powered by OpenAI Whisper</p>
            <p id="device-info"></p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
